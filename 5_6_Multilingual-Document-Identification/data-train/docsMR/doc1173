Qasım xan Urmiyanın vəkilliyini Mirzə Əbülhəsən bəyin oğlu Mirzə Məhəmmədnəbiyə verdi. Əsgər xan isə 1000  nəfərlik qoşun sərkərdəsi təyin edildi. Ağaməhəmməd şahın ordusu Qaradağdan Təbrizə gəldi. Xoyun hakimi Hüseynqulu xan Dünbilini Azərbaycanın valisi təyin etdi. Qasım xan şaha məktub yazıb, bildirdi ki, Üşnəviyyə hakimi Əfrasiyab sultan Zərza başqa kürd əşirətlərindən də qoşun toplayıb, Urmiya camaatına korluq verir. Ağaməhəmməd şah Əsgər xan Avşara göstəriş verdi ki, Urmiyaya gedib, Üşnəviyyə kürdlərinin qətl-qarətinin qarşısını alsın. Sovucbulağın hakimi Budaq xana da fərman göndərdi ki, Əsgər xana yardım etsin.  Qasım xan Əsgər xanla birləşib, az miqdar qoşunla Üşnəviyyəyə hücuma keçdi. Zərzalar da balbaslarla ittifaq bağlayıb, müdafiəyəyə hazırlaşdılar. Mükrilər də xəlvətcə zərzalara xəbər göndərirlər ki, biz ilk həmlədə geri çəkiləcəyik. Mahmud xan Mükri öz tayfasının xəyanətini Qasım xana məlumat verdi. Qasım xan ona inanmadı. Elə bu vaxt balbasların hücumu başlandı. Mükrilər qaçmağa üz qoydular. Avşarların nizamı pozuldu. Qasım xan və Əsgər xan geri çəkildi. Bu savaşda Avşar və Dünbili ellərindən 1000 nəfər döyüşçü həlak oldu. Əsgər xan hərbi hiyləsini işə salıb, döyüşçüləri ölüm meydanından çıxardı. 1793-cü ildə Ağaməhəmməd şah Qacar qoşun yığıb, Lütfəli xan Zəndin üstünə hücum etdi. Qoşuna sərkərdə Əsgər xan Əbdülməlikini,  Rəhim xan Qasımlı və Məhəmmədhəsən bəy Mahmudlunu təyin etdi. Şiraz ətrafında qoşun Lütfəli xanın gecə basqınına uğradı. Qoşun əhli sarsıldı. Ağaməhəmməd şah sərkərdələrinə tapşırdı ki, necə olursa olsun, basqının qarşısını almaq lazımdır. Lütfəli xan növbəti gecə yenə də basqın etdi. Avşar qoşunu sübhədək müqavimət göstərdi. Lütfəli xan Zənd basılıb, qaçdı. Əsgər xan qoşundan 200 nəfər seçib, Lütfəli xanı izlədi. Onlar Şirazı alıb, Lütfəli xanın əhli-əyalını Astarabada köçürdülər. Məhəmmədqulu xan da 1793-cü ildə Ağaməhəmməd şahın ordusunda Şiraza, Lütfəli xan Zəndin üstünə yollandı. Lütfəli xan Zəndin məğlubiyyətindən sonra Urmiyaya qayıtdı. Əsgər xan onun Urmiyaya dönüşünə etiraz etdi. Bilirdi ki, o, qalmaqalı sevir. Baş vəzir Rəhim xan Qasımlını Məhəmmədqulu xana naib təyin edib, Urmiyaya göndərdi. Rəhim xan öz ailəsini və Əsgər xanın əhli-əyalını Urmiyadan köçürüb, Quşçu qəsəbəsində yerləşdirdi. 1797-ci ildə Ağaməhəmməd şah Qacar Qarabağa ikinci yürüş etdi. Urmiyaya çapar göndərib, Məhəmmədqulu xana əmr etdi ki, Avşar qoşununu Mahmud xan Mömün xan oğlu Qasımlının başçılığı ilə Qarabağa göndərsin. Əsgər xan Əbdülməlikiyə tapşırdı ki, Xoy dünbüli qoşununu kəm-kəsirsiz hazırlayıb, görüş yerinə gətirsin.Dünbililər Əsgər xanla dost olduğundan bir yerə yığışıb, savaşa getmədilər. Əsgər xan çarəsiz qalıb, Salmasa getdi. Şahın əmrini yerinə yetirmədiyindən qorxuya düşdü. Bir dərvişin məsləhətini dinləyib, kiçik bir dəstə ilə Qarabağa yollandı. Qarabağa çatanda Ağaməhəmməd şah artıq Şuşanı alıb, əyləşmişdi. O, Mahmud xan Qasımlının çadırına gəldi. Sadıq xan Şəqaqi onun gəldiyini eşidib, həmin çadıra təşrif gətirdi. Sadıq xan onu şahın yanına dəvət etdi. Əsgər xan görüşü sabaha saxladı. O gecəsi Ağaməhəmməd şah Şuşada öldürüldü. Əsgər xan şahın ölümündən sonra dəstəsi ilə Naxçıvan yolu ilə Urmiyaya qayıtdı. Yolda bir məruzə hazırlayıb, Məhəmmədəli bəy Bəgişli ilə Məhəmmədqulu xana göndərdi. Əsgər xan Ağaməhəmməd şahın ölümündən sonra üsyançı xanlara, Məhəmmədqulu xan Avşara, Cəfərqulu xan Dünbiliyə, Sadıq xan Şəqaqiyə meyl etdi. Sadıq xan Şəqaqi ilə birləşib, Təbrizdən Marağaya gəldi. Əhməd xan Müqəddəmin və Mahmud xan Qasımlı-Avşarın onlara qoşulacağını zənn edirdi. Gözlədiklərinin əksinə onlar üsyançılara qoşulmadılar. Əsgər xan və Sadıq xan Marağanı mühasirəyə aldılar. Marağa 12 gün mühasirədə qaldı.Fətəli şah ordusu Nikpey adlı yerə çatanda Cəfərqulu xan Dünbili Əsgər xanla Sadıq xanı öldürmək fikrinə düşdü. Əsgər xan bu qəsddən duyuq düşdü. Sadıq xanı da xəbərdar etdi. Hər ikisi qaçıb, şahın ordusuna qoşuldular. Sadıq xan Süleyman xan Etizaddövlə Qacarı araçı saldı ki, şah onları bağışlasın. Hər ikisi bağışlandı. Əsgər xan Rus-Iran savaşlarından   əvvəl Qacar ordusunda, Avşar hissəsinin komandanı idi. Fətəli şah Əsgər xanı   vəzifəsindən alıb, əvəzinə Mahmud xan Mömün xan oğlu Qasımlı-Avşarı təyin etdi. O, dəfələrlə işdən alınsa da hər dəfə də ləyaqətinə görə yenidən vəzifəsinə qayıtmışdı. Hüseynqulu xan onun işdən çıxarılmasına çox rahatsız olmuşdu. Əsgər xan onun dayağı idi. Urmiya əhli adından şaha müraciət edib, onu doğma şəhərinə dəvət etdi.  Fətəli şah Əsgər xana ənam-ərmağan, böyük oğlu Fərəculla sultana xan ünvanı   verib, Urmiyaya yol saldı. Onun əhli-əyalı Qəzvində girov saxlanılırdı. Onları azad edib, Əsgər xana qoşdu. Əsgər xan Təbrizə yetişib, Abbas mirzənin ziyarətinə getdi. Abbas mirzə Iran-rus savaşları başlandığından, Əsgər xanı Avşar qoşununun komandanı təyin etdi. Əsgər xan icazə alıb, bir neçə günlüyəUrmiyaya yola düşdü. Hüseynqulu xan Urmiya əhalisini Səidli kəndinə qədər Əsgər xanın önünə yolladı. Onun pişvazına çıxıb, dəbdəbə ilə Urmiyaya gətirdilər. Əsgər xan Irəvan, Pənbək savaşlarında iştirak etmişdi. Savaşlardan sonra Urmiyaya qayıtmışdı. Sisyanov Bakıya hücum edəndə oranın hakimi Fətəli şaha yardım üçün mürəciət etdi. Fətəli şah Urmiya hakimi Hüseynqulu xana əmr verdi ki, Avşar qoşunu ilə Bakı camaatına yardım etsin. Hüseynqulu xan qoşun toplayıb, Əsgər xanı sərkərdə təyin etdi. Əsgər xan qardaşı Əbdüssəməd xanı da yardımçı götürüb, Bakıya yollandı. Sisyanov Iran ordusunun işə qarışdığını görüb, sülh bağladı. Çox keçmədən Sisyanov Bakıda öldürüldü. Əsgər xan onun başını Məhəmmədhəsən bəy Mahmudlu vasitəsilə Ərdəbilə, Abbas mirzəyə göndərdi. Əsgər xan Hüseynqulu xanla birlikdə Tiflis səfərinə qatılmışdı. Bu qoşunun hərbi taktikası və strategiyası Əsgər xan və qardaşı Əbdüssəməd xan tərəfindən olurdu.Onlar qoşunu yoxlayıb, sahman yaratdılar. Avşar qoşunu irəli hücum edib, rus qoşunlarını darmadağın etdilər. Rus toplarını ələ keçirib, öncə Gəncəyə, Gəncədən Irəvana, ordan da Irana apardılar. Əsgər xan ruslara satılan Irəvan hakimi Məhəmməd xan Ziyadlı-Qacara öyüd-nəsihət verib, dövlət tərəfdən qarantiya alıb, geri qaytarmaq istədi. Məhəmməd xan ona inanıb, sovqat-sovrumla Abbasabada, Abbas mirzənin yanına getdi. Hüseynqulu xan qardaşı Həsən xan Sarı Aslanla bərabər Məhəmməd xanı tutub, əhli-ayalı ilə birlikdə Tehrana apardılar. Əsgər xan bu hadisəni görüb, məyus oldu. Çalışdı ki, həmişə saray işlərindən kənarda qalsın. Yam çəmənliyində Abbas mirzədən icazə alıb, Urmiyaya getdi. Əsgər xan qoşununu Imamqulu xan Hüseynqulu xan oğluna təhvil verib, guşənişin oldu. Üç nəfər onu tez-tez yoxlayırdı. Bunlar Baba bəy Ərəbli, Məhəmmədəli bəy Bəgişli və Məhəmmədhəsən bəy Mahmudlu idilər. Əsgər xanın Fərəculla xan adlı oğlu vardı.